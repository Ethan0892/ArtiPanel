╔════════════════════════════════════════════════════════════════════════════╗
║                    ARTIPANEL - FIRST USER SETUP FLOW                      ║
║                     Pterodactyl-Style Authentication                       ║
╚════════════════════════════════════════════════════════════════════════════╝

STEP 1: ACCESS ARTIPANEL
┌────────────────────────────────────────────────────────────────────────────┐
│ Open Browser: http://localhost:3000                                        │
│ ArtiPanel detects: NO ADMIN USER EXISTS                                    │
│ Shows: "Create Admin Account" Page                                         │
└────────────────────────────────────────────────────────────────────────────┘


STEP 2: CREATE ADMIN ACCOUNT
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│              ╔══════════════════════════════════════╗                      │
│              ║            ArtiPanel               ║                      │
│              ║      Create Admin Account          ║                      │
│              ╠══════════════════════════════════════╣                      │
│              ║                                    ║                      │
│              ║ Email Address                      ║                      │
│              ║ ┌──────────────────────────────┐  ║                      │
│              ║ │ admin@company.com           │  ║                      │
│              ║ └──────────────────────────────┘  ║                      │
│              ║                                    ║                      │
│              ║ Username                           ║                      │
│              ║ ┌──────────────────────────────┐  ║                      │
│              ║ │ admin                        │  ║                      │
│              ║ └──────────────────────────────┘  ║                      │
│              ║                                    ║                      │
│              ║ Password (8+ characters)          ║                      │
│              ║ ┌──────────────────────────────┐  ║                      │
│              ║ │ ••••••••••••••••             │  ║                      │
│              ║ └──────────────────────────────┘  ║                      │
│              ║                                    ║                      │
│              ║ Confirm Password                   ║                      │
│              ║ ┌──────────────────────────────┐  ║                      │
│              ║ │ ••••••••••••••••             │  ║                      │
│              ║ └──────────────────────────────┘  ║                      │
│              ║                                    ║                      │
│              ║   [ Create Admin ]                ║                      │
│              ║                                    ║                      │
│              ║ Set up your admin account to       ║                      │
│              ║ initialize ArtiPanel. You'll be    ║                      │
│              ║ able to manage users and settings  ║                      │
│              ║ after login.                       ║                      │
│              ║                                    ║                      │
│              ╚══════════════════════════════════════╝                      │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘


STEP 3: SYSTEM PROCESSES
┌────────────────────────────────────────────────────────────────────────────┐
│ Backend Actions:                                                           │
│  ✓ Validates form input                                                   │
│  ✓ Checks if admin user exists (none exist yet)                           │
│  ✓ Hashes password using PBKDF2 (100,000 iterations)                      │
│  ✓ Creates user record with ADMIN role                                    │
│  ✓ Generates JWT tokens (access + refresh)                               │
│  ✓ Returns tokens to frontend                                             │
└────────────────────────────────────────────────────────────────────────────┘


STEP 4: SESSION ESTABLISHED
┌────────────────────────────────────────────────────────────────────────────┐
│ Browser Storage (localStorage):                                           │
│  • artipanel_access_token   → Valid for 24 hours                          │
│  • artipanel_refresh_token  → Valid for 7 days                            │
│  • artipanel_user           → User profile                                │
│                                                                            │
│ User is now LOGGED IN and ADMIN role is ACTIVE                            │
└────────────────────────────────────────────────────────────────────────────┘


STEP 5: REDIRECT TO DASHBOARD
┌────────────────────────────────────────────────────────────────────────────┐
│ ArtiPanel Dashboard loads:                                                │
│  ✓ Welcome to ArtiPanel                                                   │
│  ✓ Left Sidebar: Dashboard, Servers, Users, Settings, etc.               │
│  ✓ Can access admin features                                              │
│  ✓ Can manage users through Users page                                    │
│                                                                            │
│ From here, admin can:                                                     │
│  • Go to Users → Create additional users                                  │
│  • Assign roles (admin, user, viewer) to new users                        │
│  • Manage servers and resources                                           │
│  • Configure settings                                                     │
└────────────────────────────────────────────────────────────────────────────┘


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


WHAT HAPPENS NEXT: SUBSEQUENT USERS
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│  ADMIN USER CREATES NEW USER:                                             │
│  ─────────────────────────────────────────────────────────────────       │
│  1. Navigate to Users page (/users)                                       │
│  2. Scroll to "Create New User" section                                   │
│  3. Enter: Email, Username, Password, Role                                │
│  4. Click "Create User"                                                   │
│  5. New user can now login with their credentials                         │
│                                                                            │
│  NEW USER LOGS IN:                                                        │
│  ─────────────────────────────────────────────────────────────────       │
│  1. Go to http://localhost:3000                                           │
│  2. Login form appears (system is initialized)                            │
│  3. Enter username and password                                           │
│  4. Redirected to dashboard with assigned role permissions                │
│  5. Access depends on role: Admin > User > Viewer                         │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


KEY FEATURES OF THIS SYSTEM
┌────────────────────────────────────────────────────────────────────────────┐
│ ✅ First-User Auto-Admin       First user automatically becomes admin     │
│ ✅ Pterodactyl-Inspired UI     Familiar interface from Pterodactyl panel  │
│ ✅ Role-Based Access           Admin, User, Viewer with specific perms   │
│ ✅ Session Persistence         Auto-login via localStorage tokens        │
│ ✅ Secure Hashing             PBKDF2 with 100k iterations                │
│ ✅ Token Rotation              24h access tokens, 7d refresh tokens       │
│ ✅ Admin Management Dashboard   Full user CRUD operations                │
│ ✅ Protected Routes            Middleware-enforced access control         │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


TROUBLESHOOTING
┌────────────────────────────────────────────────────────────────────────────┐
│ Issue: "Create Admin Account" page doesn't load                           │
│ Fix: Check backend is running: curl http://localhost:4000/api/auth/status│
│                                                                            │
│ Issue: "Passwords do not match" error                                     │
│ Fix: Confirm password field must exactly match password field             │
│                                                                            │
│ Issue: "Password must be at least 8 characters"                           │
│ Fix: Use password with 8+ characters (numbers, symbols, mixed case OK)   │
│                                                                            │
│ Issue: "Invalid email address"                                            │
│ Fix: Email must contain @ symbol, e.g., user@domain.com                  │
│                                                                            │
│ Issue: Forgot admin password                                              │
│ Fix: Delete storage/users.json, restart, redo first-user setup            │
│      (WARNING: This deletes all users!)                                   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

For complete documentation, see:
📖 docs/AUTHENTICATION.md - Full authentication system guide
📖 QUICKSTART.md         - Quick setup instructions
📖 README.md             - Project overview
